<h1>Accessible Modal Component</h1>

<p>Welcome to the accessible modal testing page!</p>
<button class="button button-primary" type="button" (click)="showModal()">Show modal</button>

<ng-template #modal>
    <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="form-field">
            <label for="firstName">First name</label>
            <input [attr.aria-invalid]="form.get('firstName').invalid" id="firstName" type="text" formControlName="firstName">
            <span *ngIf="form.get('firstName')?.errors?.required" class="validation-error">First name is required</span>
        </div>
        
        <div class="form-field">
            <label for="surname">Surname</label>
            <input [attr.aria-invalid]="form.get('surname').invalid" id="surname" type="text" formControlName="surname">
            <span *ngIf="form.get('surname')?.errors?.required" class="validation-error">Surname is required</span>
        </div>
        
        <div class="form-field">
            <label for="age">Age</label>
            <input [attr.aria-invalid]="form.get('age').invalid" id="age" type="text" formControlName="age">
            <span *ngIf="form.get('age')?.errors?.required" class="validation-error">Age is required</span>
        </div>
    
        <label for="info">Subscribe to newsletter</label>
        <input formControlName="info" type="checkbox" name="" id="info" (change)="info = !info">
        <p [@fade] *ngIf="info">This is a placeholder for more information</p>
        
        <div class="button-group text-align-right">
            <button type="submit" class="button button-primary" [attr.aria-disabled]="form.invalid">Submit</button>
            <button type="button" class="button button-secondary" (click)="modalRef.close()">Cancel</button>
        </div>
    </form>
</ng-template>
